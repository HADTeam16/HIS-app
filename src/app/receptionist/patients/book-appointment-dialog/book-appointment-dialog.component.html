<div class="flex justify-center items-center">
    <mat-spinner *ngIf="doctorsLoading; else doctorsLoaded"></mat-spinner>
    <ng-template #doctorsLoaded>
        <form
            [formGroup]="patientForm"
            (submit)="onBookAppointment()"
            class="m-8 grid grid-cols-2 gap-4 justify-items-center items-center"
        >
            <mat-form-field>
                <mat-select
                    placeholder="Select specialization"
                    (selectionChange)="onSelectSpecialization($event.value)"
                >
                    <mat-option
                        *ngFor="let specialization of specializations | async"
                        [value]="specialization"
                        >{{ specialization }}</mat-option
                    >
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <input
                    type="text"
                    matInput
                    placeholder="Enter temperature"
                    formControlName="temperature"
                />
            </mat-form-field>
            <mat-form-field>
                <mat-select
                    formControlName="doctorId"
                    placeholder="Select doctor"
                >
                    <mat-option
                        *ngFor="let doctor of doctors_list | async"
                        [value]="doctor.id"
                    >
                        {{ "Dr. " + doctor.firstName + " " + doctor.lastName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <input
                    type="text"
                    matInput
                    placeholder="Enter Blood Pressure"
                    formControlName="bloodPressure"
                />
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    placeholder="Enter purpose"
                    formControlName="purpose"
                />
            </mat-form-field>
            <mat-form-field>
                <input
                    type="text"
                    matInput
                    placeholder="Enter Height"
                    formControlName="height"
                />
            </mat-form-field>
            <mat-form-field>
                <input
                    type="text"
                    matInput
                    placeholder="Enter Weight"
                    formControlName="weight"
                />
            </mat-form-field>
            <button
                mat-stroked-button
                type="submit"
                color="primary"
                [disabled]="patientForm.value.doctorId == 0"
            >
                Book Appointment
            </button>
        </form>
    </ng-template>
</div>
