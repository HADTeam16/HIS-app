<mat-spinner
    *ngIf="isLoading; else notLoadingOtpVerificationContent"
></mat-spinner>
<ng-template #notLoadingOtpVerificationContent>
    <form
        [formGroup]="forgetPasswordDetailsForm"
        (ngSubmit)="verifyOTPForForgetPasswordRequest()"
        class="px-8 py-6"
    >
        <div class="flex items-center">
            <mat-form-field class="mr-4">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" />
                <mat-error
                    *ngIf="
                        forgetPasswordDetailsForm
                            .get('email')
                            .hasError('required')
                    "
                    >Enter Valid Email ID</mat-error
                >
            </mat-form-field>
            <button
                mat-raised-button
                type="button"
                (click)="sendOTPForForgetPasswordRequest()"
                [disabled]="forgetPasswordDetailsForm.get('email').invalid"
            >
                Send OTP
            </button>
        </div>
        @if (showOtpField) {
        <div class="flex items-center">
            <mat-form-field class="mr-4">
                <mat-label>OTP</mat-label>
                <input matInput formControlName="otp" />
                <mat-error
                    *ngIf="
                        forgetPasswordDetailsForm
                            .get('otp')
                            .hasError('required')
                    "
                >
                    Enter OTP
                </mat-error>
            </mat-form-field>
            <button
                mat-raised-button
                type="submit"
                [disabled]="forgetPasswordDetailsForm.get('otp').invalid"
            >
                Verify OTP
            </button>
        </div>
        }
    </form>
</ng-template>
